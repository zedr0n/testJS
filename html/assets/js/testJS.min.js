Bridge.define("testJS.App",{statics:{config:{init:function(){this.ui=new testJS.UI;Bridge.ready(this.main)}},main:function(){var n=$("#helloBtn");n.on("click",function(){console.log("Button clicked");testJS.App.ui.content.setOutput(jsObject.onClick(testJS.App.getUserInput()))})},getUserInput:function(){return testJS.App.ui.content.getUserInput()}}});Bridge.define("testJS.Area",{jquery:null,mMargin:null,mOuterHeight:null,mHeight:null,mUpdateCss:!1,constructor:function(){},constructor$1:function(n){this.jquery=$(n);this.mMargin=new testJS.Margin("constructor$1",this.jquery);this.mHeight=new testJS.Height("constructor$1",this.jquery);this.mOuterHeight=new testJS.OuterHeight("constructor$1",this.jquery,this.mHeight);this.setupdateCss(!0)},getmargin:function(){return this.mMargin.get()},setmargin:function(n){this.mMargin.set(n)},getouterHeight:function(){return this.mOuterHeight.get()},setouterHeight:function(n){this.mOuterHeight.set(n)},getheight:function(){return this.mHeight.get()},setheight:function(n){this.mHeight.set(n)},getinitialHeight:function(){return this.mHeight.init},getinitialOuterHeight:function(){return this.mOuterHeight.init},getupdateCss:function(){return this.mUpdateCss},setupdateCss:function(n){this.mUpdateCss=n;this.mHeight.setupdateCss(n)}});Bridge.define("testJS.Header",{inherits:[testJS.Area],images:null,constructor:function(){testJS.Area.prototype.constructor$1.call(this,".header");this.images=new testJS.Area("constructor$1","img");this.images.setupdateCss(this.getupdateCss())},getupdateCss:function(){return testJS.Area.prototype.getupdateCss.call(this)},setupdateCss:function(n){testJS.Area.prototype.setupdateCss.call(this,n);this.images!==null&&this.images.setupdateCss(n)},getheight:function(){return testJS.Area.prototype.getheight.call(this)},setheight:function(n){testJS.Area.prototype.setheight.call(this,n);this.images.setheight(this.images.getinitialHeight()+(testJS.Area.prototype.getheight.call(this)-this.getinitialHeight()))}});Bridge.define("testJS.Footer",{inherits:[testJS.Area],constructor:function(){testJS.Area.prototype.constructor$1.call(this,".footer")}});Bridge.define("testJS.Content",{inherits:[testJS.Area],constructor:function(){testJS.Area.prototype.constructor$1.call(this,".content")},getUserInput:function(){var n=this.jquery.find(".input-lg");return n.val()},setOutput:function(n){this.jquery.find(".input-lg").val(n)}});Bridge.define("testJS.ChangeEventArgs$1",function(){return{prev:null,next:null,constructor:function(n,t){this.prev=n;this.next=t}}});Bridge.define("testJS.Property$1",function(n){return{inherits:[Bridge.ICloneable],jquery:null,mUpdateCss:!0,value:null,init:null,config:{events:{CssUpdate:null}},constructor:function(){},constructor$1:function(n){this.jquery=n;this.read();this.init=this.value},constructor$2:function(n){this.value=n.value;this.init=n.init},getupdateCss:function(){return this.mUpdateCss},setupdateCss:function(n){this.mUpdateCss=n;this.writeCSS()},clone:function(){return new testJS.Property$1(n)("constructor$2",this)},set:function(n){this.value=n;this.writeCSS()},get:function(){return this.value},writeCSS:function(){if(this.mUpdateCss){this.write();this.onCssUpdate(Object.empty)}},onCssUpdate:function(n){this.CssUpdate!==null&&this.CssUpdate(this,n)},onCSSUpdate:function(){this.read()},read:function(){},write:function(){}}});Bridge.define("testJS.OuterHeight",{inherits:[testJS.Property$1(Bridge.Int)],constructor:function(){testJS.Property$1(Bridge.Int).prototype.$constructor.call(this)},constructor$1:function(n,t){testJS.Property$1(Bridge.Int).prototype.constructor$1.call(this,n);t.addHeightChange(Bridge.fn.bind(this,this.onChange))},read:function(){this.value=this.jquery.outerHeight(!0)},onChange:function(n,t){var i=t.next.get()-t.prev.get();this.value+=i}});Bridge.define("testJS.Margin",{inherits:[testJS.Property$1(Bridge.Int)],constructor:function(){testJS.Property$1(Bridge.Int).prototype.$constructor.call(this)},constructor$1:function(n){testJS.Property$1(Bridge.Int).prototype.constructor$1.call(this,n)},get:function(){return this.read(),this.value},set:function(){},read:function(){this.value=this.jquery.outerHeight(!0)-this.jquery.outerHeight(!1)}});Bridge.define("testJS.Height",{inherits:[testJS.Property$1(Bridge.Int)],config:{events:{HeightChange:null}},constructor:function(){testJS.Property$1(Bridge.Int).prototype.$constructor.call(this)},constructor$1:function(n){testJS.Property$1(Bridge.Int).prototype.constructor$1.call(this,n)},constructor$2:function(n){testJS.Property$1(Bridge.Int).prototype.constructor$2.call(this,n)},clone:function(){return new testJS.Height("constructor$2",this)},onChange:function(n){this.HeightChange!==null&&this.HeightChange(this,n)},set:function(n){var t=Bridge.cast(this.clone(),testJS.Height);testJS.Property$1(Bridge.Int).prototype.set.call(this,n);this.onChange(new testJS.ChangeEventArgs$1(testJS.Height)(t,this))},read:function(){this.value=this.jquery.height()},write:function(){this.jquery.height(this.value)}});Bridge.define("testJS.UI",{statics:{hEIGHT_REDRAW:10},timeout:0,maxHeight:0,config:{init:function(){this.header=new testJS.Header;this.footer=new testJS.Footer;this.content=new testJS.Content}},constructor:function(){document.body.style.overflow="hidden";this.onResize();$(window).resize(Bridge.fn.bind(this,function(){Math.abs(this.maxHeight-window.innerHeight)>testJS.UI.hEIGHT_REDRAW&&this.onResize();window.clearTimeout(this.timeout);this.timeout=window.setTimeout(Bridge.fn.bind(this,this.onResize),100)}))},getheight:function(){return this.header.getouterHeight()+this.content.getinitialOuterHeight()+this.footer.getinitialOuterHeight()},onResize:function(){for(this.maxHeight=window.innerHeight,this.header.setupdateCss(!1);this.getheight()>this.maxHeight&&this.header.getheight()>0;)this.header.setheight(this.header.getheight()-20);while(this.getheight()<this.maxHeight-20&&this.header.getheight()<this.header.getinitialHeight())this.header.setheight(this.header.getheight()+20);this.header.setupdateCss(!0);this.content.setupdateCss(this.header.getupdateCss());this.content.setheight(this.maxHeight-this.header.getouterHeight()-this.footer.getouterHeight())},testPerf:function(){for(var r=new Date,n=$.Deferred(null),t=0,i=0;i<2e3;++i)(function(){window.setTimeout(Bridge.fn.bind(this,function(){this.maxHeight=Bridge.Int.trunc(Math.random()*window.innerHeight);this.onResize();++t;t===1999&&n.resolve(null)}),25)}).call(this);n.done(function(){console.log("Time taken: "+new Bridge.TimeSpan((new Date-r)*1e4).toString())})}});